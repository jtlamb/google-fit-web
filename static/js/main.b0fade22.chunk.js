(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"web":{"client_id":"620443792856-c4fbqhsqo4bl434mp218fj5tm80puu74.apps.googleusercontent.com","project_id":"boreal-card-305618","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_secret":"yJmfJK9xnu5g6kSLp0M6lZJq","redirect_uris":["https://boreal-card-305618.firebaseapp.com/__/auth/handler","https://jtlamb.github.io/google-fit-web","https://jtlamb.github.io/google-fit-web/home","http://localhost:3000/google-fit-web"],"javascript_origins":["http://localhost","http://localhost:5000","https://boreal-card-305618.firebaseapp.com","https://jtlamb.github.io","http://localhost:3000"]}}')},26:function(e,t,c){},27:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e){e.exports=JSON.parse("{}")},34:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),i=c(18),n=c.n(i),r=(c(26),c(4)),l=c(8),o=c(2),d=(c(27),c(0));function h(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Landing Page"}),Object(d.jsx)("p",{children:"Sign in to view your Google Fit data."})]})}var j=c(13);c(31);function b(e){var t=Object(a.useState)(0),c=Object(r.a)(t,2),s=c[0],i=c[1],n=Object(a.useState)(0),l=Object(r.a)(n,2),o=l[0],h=l[1],j=function(e){i(e)},b=function(e){h(0===e?o-1===-1?3:o-1:o+1===4?0:o+1)};return Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("div",{className:"name",children:"Welcome TEST USER!"}),Object(d.jsxs)("div",{class:"middleGraphs",children:[Object(d.jsxs)("div",{class:"mdc-chip-set mdc-chip-set--choice",role:"grid",children:[Object(d.jsx)("div",{class:0===s?"mdc-chip chip-selected":"mdc-chip",role:"row",onClick:function(){return j(0)},children:Object(d.jsx)("span",{role:"gridcell",children:Object(d.jsx)("span",{role:"button",class:"mdc-chip__primary-action",children:Object(d.jsx)("span",{class:"mdc-chip__text",children:"Heart Points"})})})}),Object(d.jsx)("div",{class:1===s?"mdc-chip chip-selected":"mdc-chip",role:"row",onClick:function(){return j(1)},children:Object(d.jsx)("span",{role:"gridcell",children:Object(d.jsx)("span",{role:"button",class:"mdc-chip__primary-action",children:Object(d.jsx)("span",{class:"mdc-chip__text",children:"Steps"})})})})]}),Object(d.jsxs)("span",{children:["Your Daily ",0===s?"Heart Points":"Steps"," Goals"]}),Object(d.jsx)("div",{className:"weeklyGoalGraphs",children:0===s?u():p()})]}),Object(d.jsxs)("div",{className:"bottomGraphs",children:[Object(d.jsx)("button",{class:"mdc-icon-button material-icons",onClick:function(){return b(0)},children:"keyboard_arrow_left"}),m(o),Object(d.jsx)("button",{class:"mdc-icon-button material-icons",onClick:function(){return b(1)},children:"keyboard_arrow_right"})]})]})}var m=function(e){switch(e){case 0:return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"bottomGraph",children:x()}),Object(d.jsx)("span",{className:"bottomGraph",children:f()})]});case 1:return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"bottomGraph",children:f()}),Object(d.jsx)("span",{className:"bottomGraph",children:_()})]});case 2:return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"bottomGraph",children:_()}),Object(d.jsx)("span",{className:"bottomGraph",children:v()})]});case 3:return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"bottomGraph",children:v()}),Object(d.jsx)("span",{className:"bottomGraph",children:x()})]})}},u=function(){return Object(d.jsxs)(d.Fragment,{children:[g(8,15,"#06bf9a","date"),g(7,15,"#06bf9a","date"),g(8,15,"#06bf9a","date"),g(7,15,"#06bf9a","date"),g(8,15,"#06bf9a","date"),g(7,15,"#06bf9a","date"),g(8,15,"#06bf9a","date")]})},p=function(){return Object(d.jsxs)(d.Fragment,{children:[g(1e4,1e4,"#4285F4","date"),g(750,1e4,"#4285F4","date"),g(4e3,1e4,"#4285F4","date"),g(7500,1e4,"#4285F4","date"),g(15e3,1e4,"#4285F4","date"),g(0,1e4,"#4285F4","date"),g(1500,1e4,"#4285F4","date")]})},g=function(e,t,c,a){return Object(d.jsxs)("div",{className:"pie",children:[Object(d.jsx)(j.a,{width:"15em",height:"15em",chartType:"PieChart",loader:Object(d.jsx)("span",{className:"material-icons loading-icon",children:"loop"}),data:[["Move Minutes","Amount"],["Actual",e],["Away from Goal",Math.max(0,t-e)]],options:{pieHole:.75,legend:"none",pieSliceText:"none",slices:[{color:c},{color:"#d3d3d3"}]}}),a]})},O=function(e){return Object(d.jsx)(j.a,{width:"40em",height:"25em",chartType:"Bar",loader:Object(d.jsx)("div",{children:"Loading Chart"}),data:[["Date",e.label],[e.date[0],e.data[0]],[e.date[1],e.data[1]],[e.date[2],e.data[2]],[e.date[3],e.data[3]],[e.date[4],e.data[4]],[e.date[5],e.data[5]],[e.date[6],e.data[6]]],options:{chart:{title:e.title,subtitle:e.subtitle}}})},x=function(){return O({label:"Steps",title:"Steps",subtitle:"Step data for the past week",date:["2014","2015","2016","2017","2018","2019","2020"],data:[1e3,1170,660,1030,2e3,15e3,1e4]})},f=function(){return O({label:"Distance (miles)",title:"Distance",subtitle:"Distance travelled over the past week",date:["2014","2015","2016","2017","2018","2019","2020"],data:[1e3,1170,660,1030,2e3,15e3,1e4]})},_=function(){return O({label:"Move Mins",title:"Move Minutes",subtitle:"Move Minutes for the past week",date:["2014","2015","2016","2017","2018","2019","2020"],data:[1e3,1170,660,1030,2e3,15e3,1e4]})},v=function(){return O({label:"Calories (kCal)",title:"Calories",subtitle:"Calories tracked over the past week",date:["2014","2015","2016","2017","2018","2019","2020"],data:[1e3,1170,660,1030,2e3,15e3,1e4]})},w=(c(32),c(33),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,39)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),i(e),n(e)}))});function N(e){var t=3.28084*e,c=t%t.toFixed(0)*12;return{ft:t=t.toFixed(0),inches:c=Math.round(c).toFixed(0)}}function y(e){var t=Object(a.useState)(!0),c=Object(r.a)(t,2),s=c[0],i=c[1],n=Object(a.useState)(""),l=Object(r.a)(n,2),o=l[0],h=l[1],j=Object(a.useState)(""),b=Object(r.a)(j,2),m=b[0],u=b[1],p=Object(a.useState)(0),g=Object(r.a)(p,2),O=g[0],x=g[1],f=Object(a.useState)(0),_=Object(r.a)(f,2),v=_[0],w=_[1],y=new URL("https://people.googleapis.com");y.protocol="https",y.hostname="people.googleapis.com",y.pathname="/v1/people/me",y.searchParams.append("personFields","birthdays,genders,names"),y.searchParams.append("sources","READ_SOURCE_TYPE_PROFILE"),Object(a.useEffect)((function(){fetch(y,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e.user.accessToken)}}).then((function(e){return e.json()})).then((function(e){h("".concat(function(e){switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return"Invalid Month"}}(e.birthdays[0].date.month)," ").concat(e.birthdays[0].date.day,", ").concat(e.birthdays[0].date.year)),u("".concat(e.genders[0].formattedValue))})).catch((function(e){return console.log(e)}))}),[]);var k=(new Date).getTime();console.log(k);var S,F="https://www.googleapis.com/fitness/v1/users/me/dataset:aggregate",T={aggregateBy:[{dataTypeName:"com.google.weight",dataSourceId:"derived:com.google.weight:com.google.android.gms:merge_weight"}],startTimeMillis:k-864e5,endTimeMillis:k,bucketByTime:{durationMillis:864e5,period:{type:"day",value:1,timeZoneId:"America/New_York"}}},P={aggregateBy:[{dataTypeName:"com.google.height",dataSourceId:"derived:com.google.height:com.google.android.gms:merge_height"}],startTimeMillis:k-864e5,endTimeMillis:k,bucketByTime:{durationMillis:864e5,period:{type:"day",value:1,timeZoneId:"America/New_York"}}};return Object(a.useEffect)((function(){fetch(F,{method:"POST",headers:{"Content-Type":"application/json;encoding=utf-8",Authorization:"Bearer ".concat(e.user.accessToken)},body:JSON.stringify(T)}).then((function(e){return e.json()})).then((function(e){console.log(e),w(e.bucket[0].dataset[0].point[0].value[0].fpVal)})).catch((function(e){return console.log(e)}))}),[e.user.authenticated]),Object(a.useEffect)((function(){fetch(F,{method:"POST",headers:{"Content-Type":"application/json;encoding=utf-8",Authorization:"Bearer ".concat(e.user.accessToken)},body:JSON.stringify(P)}).then((function(e){return e.json()})).then((function(e){console.log(e),x(e.bucket[0].dataset[0].point[0].value[0].fpVal),i(!0)})).catch((function(e){return console.log(e)}))}),[e.user.authenticated]),Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)("img",{src:e.user.pfPic,alt:"Profile",className:"pfp"}),Object(d.jsxs)("div",{className:"name",children:[e.user.fname," ",e.user.lname]}),s?Object(d.jsx)("div",{class:"mdc-data-table basic-info",children:Object(d.jsx)("div",{class:"mdc-data-table__table-container",children:Object(d.jsxs)("table",{class:"mdc-data-table__table",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{class:"mdc-data-table__header-row",children:Object(d.jsx)("th",{class:"mdc-data-table__header-cell",children:Object(d.jsx)("span",{className:"title",children:"Basic Information"})})})}),Object(d.jsxs)("tbody",{class:"mdc-data-table__content",children:[Object(d.jsxs)("tr",{class:"mdc-data-table__row",children:[Object(d.jsx)("th",{class:"mdc-data-table__cell",scope:"row",children:"Birthday"}),Object(d.jsx)("td",{class:"mdc-data-table__cell mdc-data-table__cell--numeric",children:o})]}),Object(d.jsxs)("tr",{class:"mdc-data-table__row",children:[Object(d.jsx)("th",{class:"mdc-data-table__cell",scope:"row",children:"Gender"}),Object(d.jsx)("td",{class:"mdc-data-table__cell mdc-data-table__cell--numeric",children:m})]}),Object(d.jsxs)("tr",{class:"mdc-data-table__row",children:[Object(d.jsx)("th",{class:"mdc-data-table__cell",scope:"row",children:"Weight"}),Object(d.jsxs)("td",{class:"mdc-data-table__cell mdc-data-table__cell--numeric",children:[Math.round((S=v,2.20462*S))," lbs"]})]}),Object(d.jsxs)("tr",{class:"mdc-data-table__row",children:[Object(d.jsx)("th",{class:"mdc-data-table__cell",scope:"row",children:"Height"}),Object(d.jsxs)("td",{class:"mdc-data-table__cell mdc-data-table__cell--numeric",children:[N(O).ft," ft ",N(O).inches," in"]})]})]})]})})}):Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"loading",children:"Loading User Info ..."}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"material-icons loading-icon",children:"loop"})]})]})}function k(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Journal"}),Object(d.jsx)("p",{children:"Under Construction"})]})}function S(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"About"}),Object(d.jsx)("p",{children:"Under Construction"})]})}var F=c(14),T=c(20),P={authenticated:!1,name:"",fname:"",lname:"",pfPic:"",email:"",accessToken:""},C=T.web.client_id;function G(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1],i=Object(a.useContext)(I).setUser;return Object(d.jsx)("div",{children:c?Object(d.jsx)(F.GoogleLogout,{clientId:C,buttonText:"Logout",onLogoutSuccess:function(){s(!1),i(P)},onFailure:function(){alert("Failed to logout")}}):Object(d.jsx)(F.GoogleLogin,{clientId:C,buttonText:"Login",onSuccess:function(e){var t,c,a,n,r,l,o;e.accessToken&&(s(!0),i((t=!0,c=e.getBasicProfile().getName(),a=e.getBasicProfile().getGivenName(),n=e.getBasicProfile().getFamilyName(),r=e.getBasicProfile().getImageUrl().slice(0,e.getBasicProfile().getImageUrl().lastIndexOf("=",e.getBasicProfile().getImageUrl().length-1))+"=s1000-c",l=e.getBasicProfile().getEmail(),o=e.accessToken,{authenticated:t,name:c,fname:a,lname:n,pfPic:r,email:l,accessToken:o})),console.log(e.getGrantedScopes()))},onFailure:function(){alert("Failed to login")},cookiePolicy:"single_host_origin",responseType:"code,token",scope:"https://www.googleapis.com/auth/fitness.activity.read https://www.googleapis.com/auth/fitness.body.read https://www.googleapis.com/auth/fitness.body.write https://www.googleapis.com/auth/user.birthday.read https://www.googleapis.com/auth/user.gender.read https://www.googleapis.com/auth/userinfo.profile"})})}c(34);var M=c.p+"static/media/GoogleFit_Logo_Vertical.0368927f.png";function B(e){var t=Object(a.useState)(0),c=Object(r.a)(t,2),s=c[0],i=c[1],n=function(e){i(e)};return Object(d.jsx)("div",{className:"SideNav",children:Object(d.jsxs)("aside",{className:"mdc-drawer",children:[Object(d.jsx)("div",{className:"mdc-drawer__content",children:Object(d.jsxs)("nav",{className:"mdc-list",children:[Object(d.jsx)("div",{className:"mdc-drawer__header",children:Object(d.jsx)(l.b,{to:"/",className:"nav header",onClick:function(){return n(0)},children:Object(d.jsx)("img",{src:M,alt:"Google Fit Logo",className:"logo"})})}),e.authenticated?Object(d.jsxs)("div",{children:[Object(d.jsx)("hr",{class:"mdc-list-divider"}),Object(d.jsxs)(l.b,{to:"/",className:0===s?"mdc-list-item nav mdc-list-item--activated":"mdc-list-item nav",onClick:function(){return n(0)},children:[Object(d.jsx)("i",{className:"material-icons mdc-list-item__graphic","aria-hidden":"true",children:"home"}),Object(d.jsx)("span",{className:"mdc-list-item__text",children:"Home"})]}),Object(d.jsxs)(l.b,{to:e.authenticated?"/profile":"/",className:1===s?"mdc-list-item nav mdc-list-item--activated":"mdc-list-item nav",onClick:function(){return n(1)},children:[Object(d.jsx)("i",{className:"material-icons mdc-list-item__graphic","aria-hidden":"true",children:"account_circle"}),Object(d.jsx)("span",{className:"mdc-list-item__text",children:"Profile"})]}),Object(d.jsxs)(l.b,{to:e.authenticated?"/journal":"/",className:2===s?"mdc-list-item nav mdc-list-item--activated":"mdc-list-item nav",onClick:function(){return n(2)},children:[Object(d.jsx)("i",{className:"material-icons mdc-list-item__graphic","aria-hidden":"true",children:"assignment"}),Object(d.jsx)("span",{className:"mdc-list-item__text",children:"Journal"})]})]}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("hr",{class:"mdc-list-divider"}),Object(d.jsxs)(l.b,{to:"/about",className:3===s?"mdc-list-item nav mdc-list-item--activated":"mdc-list-item nav",onClick:function(){return n(3)},children:[Object(d.jsx)("i",{className:"material-icons mdc-list-item__graphic","aria-hidden":"true",children:"info"}),Object(d.jsx)("span",{className:"mdc-list-item__text",children:"About"})]})]})}),Object(d.jsx)("div",{className:"login",children:Object(d.jsx)(G,{})})]})})}var I=Object(a.createContext)({user:P,setUser:function(e){}});function A(){var e=Object(a.useState)(P),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(l.a,{basename:"/google-fit-web",children:[Object(d.jsx)(I.Provider,{value:{user:c,setUser:s},children:Object(d.jsx)("div",{className:"sideNav",children:Object(d.jsx)(B,{authenticated:c.authenticated})})}),Object(d.jsx)(o.c,{children:Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)(o.a,{exact:!0,path:"/",children:Object(d.jsx)(b,{})}),Object(d.jsx)(o.a,{exact:!0,path:"/profile",children:c.authenticated?Object(d.jsx)(y,{user:c}):Object(d.jsx)(h,{})}),Object(d.jsx)(o.a,{exact:!0,path:"/journal",children:c.authenticated?Object(d.jsx)(k,{}):Object(d.jsx)(h,{})}),Object(d.jsx)(o.a,{exact:!0,path:"/about",children:Object(d.jsx)(S,{})})]})})]})})}n.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(A,{})}),document.getElementById("root")),w()}},[[38,1,2]]]);
//# sourceMappingURL=main.b0fade22.chunk.js.map